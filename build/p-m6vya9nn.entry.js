import{r as t,c as i,h as s,g as h}from"./p-26c8340a.js";import{b as e,a,c as n}from"./p-5ab1233c.js";const r=class{constructor(s){t(this,s),this.autoPlay=!0,this.onfinish=i(this,"finish",7),this.oncancel=i(this,"cancel",7)}animationDidChangeHandler(t){const i=n[t];if(!i||!i.length)throw new Error(e);this.keyFrames=i}keyFramesDidChangeHandler(t){t&&(this.keyFrames=JSON.parse(t))}optionsDidChangeHandler(t){for(const i in t)t.hasOwnProperty(i)&&("id"===i?this.animateId=void 0:this[i]=void 0)}optionsDataDidChangeHandler(t){t&&(this.options=JSON.parse(t))}setCurrenTime(t){this.currentAnimation&&(this.currentAnimation.currentTime=t)}async getCurrentTime(){return this.currentAnimation.currentTime}setStartTime(t){this.currentAnimation&&(this.currentAnimation.startTime=t)}async getStartTime(){return this.currentAnimation.startTime}async getPending(){return this.currentAnimation.pending}setPlaybackRate(t){this.currentAnimation&&(this.currentAnimation.playbackRate=t)}async getPlaybackRate(){return this.currentAnimation.playbackRate}async getPlayState(){return this.currentAnimation.playState}async cancel(){return this.currentAnimation.cancel()}async finish(){return this.currentAnimation.finish()}async pause(){return this.currentAnimation.pause()}async play(){return this.currentAnimation.play()}async reverse(){return this.currentAnimation.reverse()}getAnimationOptions(){const t=this.options||this.optionsData&&JSON.parse(this.optionsData)||{};return void 0!==this.delay&&(t.delay=this.delay),void 0!==this.duration&&(t.duration=this.duration),this.direction&&(t.direction=this.direction),this.composite&&(t.composite=this.composite),this.easing&&(t.easing=a[this.easing]||this.easing),void 0!==this.endDelay&&(t.endDelay=this.endDelay),this.fill&&(t.fill=this.fill),void 0!==this.animateId&&(t.id=this.animateId),void 0!==this.iterations&&(t.iterations=this.iterations),void 0!==this.iterationStart&&(t.iterationStart=this.iterationStart),this.iterationComposite&&(t.iterationComposite=this.iterationComposite),t}createAnimation(){const t=this.el.firstElementChild||this.el.children.length&&this.el.children[0]||this.el,i=this.getAnimationOptions(),s=this.keyFrames||this.animation&&n[this.animation]||this.keyFramesData&&JSON.parse(this.keyFramesData)||[],h=t.animate(s,i);return h.onfinish=()=>this.onfinish.emit(t),h.oncancel=()=>this.oncancel.emit(t),void 0!==this.currentTime&&(h.currentTime=this.currentTime),void 0!==this.startTime&&(h.startTime=this.startTime),h}componentWillLoad(){this.currentAnimation=this.createAnimation(),this.autoPlay&&this.play()}componentDidUpdate(){this.currentAnimation=this.createAnimation(),this.autoPlay&&this.play()}render(){return s("slot",null)}get el(){return h(this)}static get watchers(){return{animation:["animationDidChangeHandler"],keyFramesData:["keyFramesDidChangeHandler"],options:["optionsDidChangeHandler"],optionsData:["optionsDataDidChangeHandler"],currentTime:["setCurrenTime"],startTime:["setStartTime"],playbackRate:["setPlaybackRate"]}}};export{r as animatable_component};